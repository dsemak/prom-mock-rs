version: 1
defaults:
  status: success
  clock_anchor: "2025-08-03T00:00:00Z"

routes:
  - match:
      path: /api/v1/query
      query: up
    respond:
      data:
        resultType: vector
        result:
          - metric: { __name__: "up", job: "api", instance: "a:9100" }
            value: [ 1722643200, "1" ]

  - match:
      path: /api/v1/query_range
      query: rate(http_requests_total{job="api"}[5m])
      start: now-15m
      end: now
      step: 60s
    respond:
      data:
        resultType: matrix
        result:
          - metric: { __name__: "http_requests_total", job: "api", method: "GET" }
            values:
              - [ 1722642300, "0.5" ]
              - [ 1722642360, "0.6" ]
              - [ 1722642420, "0.7" ]
